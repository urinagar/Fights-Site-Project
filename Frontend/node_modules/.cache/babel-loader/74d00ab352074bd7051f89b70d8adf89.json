{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\web development\\\\Lessons + Homework\\\\Third Project\\\\Fullstack\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Button,ButtonGroup}from\"@mui/material\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import vacationsService from\"../../../Services/VacationsService\";import\"./AddVacation.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddVacation(){var _formState$errors$des,_formState$errors$des2,_formState$errors$des3,_formState$errors$des4,_formState$errors$pri,_formState$errors$pri2,_formState$errors$sta,_formState$errors$sta2,_formState$errors$end,_formState$errors$end2,_formState$errors$ima,_formState$errors$ima2;var navigate=useNavigate();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,formState=_useForm.formState;function handleClick(){navigate(\"/home\");}function submit(_x){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(vacation){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:vacation.startingDate+=\":00.000Z\";vacation.endingDate+=\":00.000Z\";vacation.followersCount=0;_context.next=5;return vacationsService.addVacation(vacation);case 5:navigate(\"/home\");case 6:case\"end\":return _context.stop();}}},_callee);}));return _submit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"AddVacation\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit(submit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Vacation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"BackBtn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right \",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread({style:((_formState$errors$des=formState.errors.description)===null||_formState$errors$des===void 0?void 0:_formState$errors$des.message)&&{border:\" 1px solid red\"}},register(\"description\",{validate:{value:function value(description){return description.trim().length!==0||\"Please enter description\";}},required:{value:true,message:\"Please enter description\"},minLength:{value:40,message:\"Description most be at list 40 letters\"},maxLength:{value:500,message:\"Description most be at most 500 letters\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$des2=formState.errors.description)===null||_formState$errors$des2===void 0?void 0:_formState$errors$des2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",style:((_formState$errors$des3=formState.errors.destination)===null||_formState$errors$des3===void 0?void 0:_formState$errors$des3.message)&&{border:\" 1px solid red\"},placeholder:\"City, Country\"},register(\"destination\",{validate:{value:function value(destination){return destination.trim().length!==0||\"Please enter destination\";}},pattern:{value:/.*, .*$/,message:\"Please use correct pattern (City, Country)\"},required:{value:true,message:\"Please enter destination\"},minLength:{value:10,message:\"destination most be at list 10 letters\"},maxLength:{value:50,message:\"destination most be at most 50 letters\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$des4=formState.errors.destination)===null||_formState$errors$des4===void 0?void 0:_formState$errors$des4.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"number\",style:((_formState$errors$pri=formState.errors.price)===null||_formState$errors$pri===void 0?void 0:_formState$errors$pri.message)&&{border:\" 1px solid red\"}},register(\"price\",{required:{value:true,message:\"Please enter price\"},min:{value:1,message:\" Price most be greater then zero\"},max:{value:20000,message:\" Price cant exceed 20000\"},minLength:{value:10,message:\"destination most be at list 10 letters\"},maxLength:{value:50,message:\"destination most be at most 50 letters\"},valueAsNumber:true}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$pri2=formState.errors.price)===null||_formState$errors$pri2===void 0?void 0:_formState$errors$pri2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Starting Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"datetime-local\",style:((_formState$errors$sta=formState.errors.startingDate)===null||_formState$errors$sta===void 0?void 0:_formState$errors$sta.message)&&{border:\" 1px solid red\"}},register(\"startingDate\",{required:{value:true,message:\"Please enter starting date\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$sta2=formState.errors.startingDate)===null||_formState$errors$sta2===void 0?void 0:_formState$errors$sta2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ending Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"datetime-local\",style:((_formState$errors$end=formState.errors.endingDate)===null||_formState$errors$end===void 0?void 0:_formState$errors$end.message)&&{border:\" 1px solid red\"}},register(\"endingDate\",{required:{value:true,message:\"Please enter ending date\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$end2=formState.errors.endingDate)===null||_formState$errors$end2===void 0?void 0:_formState$errors$end2.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"file\",accept:\"image/*\",style:((_formState$errors$ima=formState.errors.image)===null||_formState$errors$ima===void 0?void 0:_formState$errors$ima.message)&&{border:\" 1px solid red\"}},register(\"image\",{required:{value:true,message:\"Please enter an image\"}}))),/*#__PURE__*/_jsx(\"span\",{children:(_formState$errors$ima2=formState.errors.image)===null||_formState$errors$ima2===void 0?void 0:_formState$errors$ima2.message})]}),/*#__PURE__*/_jsxs(ButtonGroup,{className:\"BtnGroup\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"ResetBtn\",type:\"reset\",children:\"Clear\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});}export default AddVacation;","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Components/VacationArea/AddVacation/AddVacation.tsx"],"names":["Button","ButtonGroup","useForm","useNavigate","vacationsService","AddVacation","navigate","register","handleSubmit","formState","handleClick","submit","vacation","startingDate","endingDate","followersCount","addVacation","errors","description","message","border","validate","value","trim","length","required","minLength","maxLength","destination","pattern","price","min","max","valueAsNumber","image"],"mappings":"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","sourcesContent":["import { Button, ButtonGroup } from \"@mui/material\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport VacationModel from \"../../../Models/VacationModel\";\nimport vacationsService from \"../../../Services/VacationsService\";\n\nimport \"./AddVacation.css\";\n\nfunction AddVacation(): JSX.Element {\n    const navigate = useNavigate();\n    const {register, handleSubmit, formState} = useForm<VacationModel>();\n\n    function handleClick(): void {\n        navigate(\"/home\");\n    }\n\n    async function submit(vacation: VacationModel): Promise<void>{\n        vacation.startingDate += \":00.000Z\";\n        vacation.endingDate += \":00.000Z\";\n        vacation.followersCount = 0;\n        await vacationsService.addVacation(vacation);\n        navigate(\"/home\");\n    }\n\n    return (\n        <div className=\"AddVacation\">\n            <form autoComplete=\"off\" onSubmit={handleSubmit(submit)} >\n                \n                <h2>Add Vacation</h2>\n\n                <button onClick={handleClick} className=\"BackBtn\"><i className=\"fa fa-arrow-right \" aria-hidden=\"true\"></i></button>\n\n                <div>\n                    <label>Description</label>\n                    <br />\n                    <textarea style={formState.errors.description?.message && {border: \" 1px solid red\"}} {...register(\"description\", {\n                        validate: {value: description => description.trim().length !== 0 || \"Please enter description\"},\n                        required: {value: true, message:\"Please enter description\"},\n                        minLength: {value: 40, message:\"Description most be at list 40 letters\"},\n                        maxLength: {value: 500, message:\"Description most be at most 500 letters\"},\n                    })} />\n                    <span>{formState.errors.description?.message}</span>\n                </div>\n                \n                <div>\n                    <label>Destination</label>\n                    <br />\n                    <input type=\"text\" style={formState.errors.destination?.message && {border: \" 1px solid red\"}} placeholder=\"City, Country\" {...register(\"destination\", {\n                        validate: {value: destination => destination.trim().length !== 0 || \"Please enter destination\"},\n                        pattern: {value:/.*, .*$/, message: \"Please use correct pattern (City, Country)\"},\n                        required: {value: true, message:\"Please enter destination\"},\n                        minLength: {value: 10, message:\"destination most be at list 10 letters\"},\n                        maxLength: {value: 50, message:\"destination most be at most 50 letters\"},\n                    })} />\n                    <span>{formState.errors.destination?.message}</span>\n                </div>\n                \n                <div>\n                    <label>Price</label>\n                    <br />\n                    <input type=\"number\" style={formState.errors.price?.message && {border: \" 1px solid red\"}}  {...register(\"price\", {\n                        required: {value: true, message:\"Please enter price\"},\n                        min: {value: 1, message: \" Price most be greater then zero\"},\n                        max: {value: 20000, message: \" Price cant exceed 20000\"},\n                        minLength: {value: 10, message:\"destination most be at list 10 letters\"},\n                        maxLength: {value: 50, message:\"destination most be at most 50 letters\"},\n                        valueAsNumber: true,\n                    })} />\n                    <span>{formState.errors.price?.message}</span>\n                </div>\n\n                <div>\n                    <label>Starting Date</label>\n                    <br />\n                    <input type=\"datetime-local\" style={formState.errors.startingDate?.message && {border: \" 1px solid red\"}} {...register(\"startingDate\", {\n                        required: {value: true, message:\"Please enter starting date\"}\n                    })} />\n                    <span>{formState.errors.startingDate?.message}</span>\n                </div>\n\n                <div>\n                    <label>Ending Date</label>\n                    <br />\n                    <input type=\"datetime-local\" style={formState.errors.endingDate?.message && {border: \" 1px solid red\"}} {...register(\"endingDate\", {\n                        required: {value: true, message:\"Please enter ending date\"}\n                    })} />\n                    <span>{formState.errors.endingDate?.message}</span>\n                </div>\n\n               \n\n                <div>\n                    <label>Image</label>\n                    <br />\n                    <input type=\"file\" accept=\"image/*\" style={formState.errors.image?.message && {border: \" 1px solid red\"}} {...register(\"image\", {\n                        required: {value: true, message: \"Please enter an image\"}\n                    })} />\n                    <span>{formState.errors.image?.message}</span>\n\n                </div>\n\n                <ButtonGroup className=\"BtnGroup\">\n                        <Button variant=\"contained\" className=\"ResetBtn\" type=\"reset\">Clear</Button>\n                        <Button variant=\"contained\" color=\"primary\" type=\"submit\">Submit</Button>\n                </ButtonGroup>\n            </form>          \n\n        </div>\n    );\n}\n\nexport default AddVacation;\n"]},"metadata":{},"sourceType":"module"}