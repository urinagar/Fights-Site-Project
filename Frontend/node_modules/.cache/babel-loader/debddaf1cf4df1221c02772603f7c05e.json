{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\web development\\\\Lessons + Homework\\\\Third Project\\\\Fullstack\\\\Frontend\\\\src\\\\Components\\\\HomeArea\\\\VacationsList\\\\VacationsList.tsx\";\nimport { Component } from \"react\";\nimport { AuthState } from \"../../../Redux/AuthState\";\nimport { vacationsStore } from \"../../../Redux/Store\";\nimport notifyService from \"../../../Services/NotifyfService\";\nimport vacationsService from \"../../../Services/VacationsService\";\nimport AdminVacationCard from \"../AdminVacationCard/AdminVacationCard\";\nimport VacationCard from \"../VacationCard/VacationCard\";\nimport \"./VacationsList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass VacationsList extends Component {\n  constructor() {\n    super(...arguments);\n    this.unSubscribeMe = void 0;\n    this.loggedUser = new AuthState();\n  }\n\n  async componentDidMount() {\n    try {\n      const vacations = await vacationsService.getAllVacations();\n      this.setState({\n        vacations\n      });\n      this.unSubscribeMe = vacationsStore.subscribe(async () => {\n        const vacations = await vacationsService.getAllVacations();\n        this.setState({\n          vacations\n        });\n      });\n    } catch (err) {\n      notifyService.error(err);\n    }\n  }\n\n  handleClick() {}\n\n  componentWillUnmount() {\n    this.unSubscribeMe();\n  }\n\n  render() {\n    var _this$state, _this$state$vacations;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"VacationsList\",\n      children: (_this$state = this.state) === null || _this$state === void 0 ? void 0 : (_this$state$vacations = _this$state.vacations) === null || _this$state$vacations === void 0 ? void 0 : _this$state$vacations.map(v => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.loggedUser.user.role === \"User\" ? /*#__PURE__*/_jsxDEV(VacationCard, {\n          vacation: v\n        }, v.vacationId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 101\n        }, this) : /*#__PURE__*/_jsxDEV(AdminVacationCard, {\n          vacation: v\n        }, v.vacationId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 152\n        }, this)\n      }, v.vacationId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 38\n      }, this)).reverse()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default VacationsList;","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Components/HomeArea/VacationsList/VacationsList.tsx"],"names":["Component","AuthState","vacationsStore","notifyService","vacationsService","AdminVacationCard","VacationCard","VacationsList","unSubscribeMe","loggedUser","componentDidMount","vacations","getAllVacations","setState","subscribe","err","error","handleClick","componentWillUnmount","render","state","map","v","user","role","vacationId","reverse"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AAGA,SAASC,SAAT,QAA0B,0BAA1B;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAO,qBAAP;;;AAMA,MAAMC,aAAN,SAA4BP,SAA5B,CAA8D;AAAA;AAAA;AAAA,SAElDQ,aAFkD;AAAA,SAGlDC,UAHkD,GAGrC,IAAIR,SAAJ,EAHqC;AAAA;;AAK5B,QAAjBS,iBAAiB,GAAG;AAC7B,QAAG;AAEC,YAAMC,SAAS,GAAG,MAAMP,gBAAgB,CAACQ,eAAjB,EAAxB;AACA,WAAKC,QAAL,CAAc;AAAEF,QAAAA;AAAF,OAAd;AAEA,WAAKH,aAAL,GAAqBN,cAAc,CAACY,SAAf,CAAyB,YAAY;AACtD,cAAMH,SAAS,GAAG,MAAMP,gBAAgB,CAACQ,eAAjB,EAAxB;AACA,aAAKC,QAAL,CAAc;AAAEF,UAAAA;AAAF,SAAd;AACH,OAHoB,CAArB;AAIH,KATD,CAUA,OAAMI,GAAN,EAAe;AACXZ,MAAAA,aAAa,CAACa,KAAd,CAAoBD,GAApB;AACH;AACJ;;AAEME,EAAAA,WAAW,GAAE,CAEnB;;AACDC,EAAAA,oBAAoB,GAAS;AACzB,SAAKV,aAAL;AACH;;AAEMW,EAAAA,MAAM,GAAgB;AAAA;;AACzB,wBACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,+BACP,KAAKC,KADE,yEACP,YAAYT,SADL,0DACP,sBAAuBU,GAAvB,CAA2BC,CAAC,iBAAI;AAAA,kBAAyB,KAAKb,UAAL,CAAgBc,IAAhB,CAAqBC,IAArB,KAA8B,MAA9B,gBAAsC,QAAC,YAAD;AAAiC,UAAA,QAAQ,EAAEF;AAA3C,WAAmBA,CAAC,CAACG,UAArB;AAAA;AAAA;AAAA;AAAA,gBAAtC,gBAAyF,QAAC,iBAAD;AAAuC,UAAA,QAAQ,EAAEH;AAAjD,WAAyBA,CAAC,CAACG,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAlH,SAAUH,CAAC,CAACG,UAAZ;AAAA;AAAA;AAAA;AAAA,cAAhC,EAAkNC,OAAlN;AADO;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAlCyD;;AAsC9D,eAAenB,aAAf","sourcesContent":["import { Component } from \"react\";\nimport { Unsubscribe } from \"redux\";\nimport VacationModel from \"../../../Models/VacationModel\";\nimport { AuthState } from \"../../../Redux/AuthState\";\nimport { vacationsStore } from \"../../../Redux/Store\";\nimport notifyService from \"../../../Services/NotifyfService\";\nimport vacationsService from \"../../../Services/VacationsService\";\nimport AdminVacationCard from \"../AdminVacationCard/AdminVacationCard\";\nimport VacationCard from \"../VacationCard/VacationCard\";\nimport \"./VacationsList.css\";\n\ninterface VacationsListState {\n\tvacations: VacationModel[];\n}\n\nclass VacationsList extends Component<{}, VacationsListState> {\n    \n    private unSubscribeMe: Unsubscribe;\n    private loggedUser = new AuthState();\n\n    public async componentDidMount() {\n        try{\n            \n            const vacations = await vacationsService.getAllVacations();            \n            this.setState({ vacations });\n\n            this.unSubscribeMe = vacationsStore.subscribe(async () => {\n                const vacations = await vacationsService.getAllVacations();\n                this.setState({ vacations });\n            })\n        }\n        catch(err: any){\n            notifyService.error(err);\n        }\n    }\n\n    public handleClick(){\n\n    }\n    componentWillUnmount(): void {\n        this.unSubscribeMe();\n    }\n    \n    public render(): JSX.Element {\n        return (\n            <div className=\"VacationsList\">\n\t\t\t\t{this.state?.vacations?.map(v => <div key={v.vacationId}>{this.loggedUser.user.role === \"User\"? <VacationCard key={v.vacationId} vacation={v} /> : <AdminVacationCard  key={v.vacationId} vacation={v} /> }</div>).reverse()}\n            </div>\n        );\n    }\n\n}\n\nexport default VacationsList;\n"]},"metadata":{},"sourceType":"module"}