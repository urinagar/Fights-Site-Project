{"ast":null,"code":"import _classCallCheck from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{vacationsStore}from'./../Redux/Store';import{io}from\"socket.io-client\";import config from\"../Utils/config\";import{updateVacationAction}from'../Redux/VacationsState';var SocketIoService=/*#__PURE__*/function(){function SocketIoService(){_classCallCheck(this,SocketIoService);this.socket=void 0;}_createClass(SocketIoService,[{key:\"connect\",value:function connect(){this.socket=io(config.urls.socketServer);this.socket.on(\"user-following\",function(vacation){vacationsStore.dispatch(updateVacationAction(vacation));});this.socket.on(\"user-not-following\",function(vacation){vacationsStore.dispatch(updateVacationAction(vacation));});}},{key:\"disconnect\",value:function disconnect(){this.socket.disconnect();}}]);return SocketIoService;}();var socketIoService=new SocketIoService();export default socketIoService;","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Services/SocketIOService.ts"],"names":["vacationsStore","io","config","updateVacationAction","SocketIoService","socket","urls","socketServer","on","vacation","dispatch","disconnect","socketIoService"],"mappings":"4VAAA,OAASA,cAAT,KAA+B,kBAA/B,CACA,OAASC,EAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,oBAAT,KAAqC,yBAArC,C,GAEMC,CAAAA,e,+FACMC,M,4DAER,kBAAuB,CACnB,KAAKA,MAAL,CAAcJ,EAAE,CAACC,MAAM,CAACI,IAAP,CAAYC,YAAb,CAAhB,CAEA,KAAKF,MAAL,CAAYG,EAAZ,CAAe,gBAAf,CAAiC,SAACC,QAAD,CAA6B,CAC1DT,cAAc,CAACU,QAAf,CAAwBP,oBAAoB,CAACM,QAAD,CAA5C,EACH,CAFD,EAIA,KAAKJ,MAAL,CAAYG,EAAZ,CAAe,oBAAf,CAAqC,SAACC,QAAD,CAA6B,CAC9DT,cAAc,CAACU,QAAf,CAAwBP,oBAAoB,CAACM,QAAD,CAA5C,EACH,CAFD,EAGH,C,0BAED,qBAA0B,CACtB,KAAKJ,MAAL,CAAYM,UAAZ,GACH,C,+BAGL,GAAMC,CAAAA,eAAe,CAAG,GAAIR,CAAAA,eAAJ,EAAxB,CACA,cAAeQ,CAAAA,eAAf","sourcesContent":["import { vacationsStore } from './../Redux/Store';\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport VacationModel from \"../Models/VacationModel\";\r\nimport config from \"../Utils/config\";\r\nimport { updateVacationAction } from '../Redux/VacationsState';\r\n\r\nclass SocketIoService {\r\n    private socket: Socket;\r\n    \r\n    public connect(): void {\r\n        this.socket = io(config.urls.socketServer);\r\n\r\n        this.socket.on(\"user-following\", (vacation: VacationModel) => {\r\n            vacationsStore.dispatch(updateVacationAction(vacation));\r\n        });\r\n\r\n        this.socket.on(\"user-not-following\", (vacation: VacationModel) => {\r\n            vacationsStore.dispatch(updateVacationAction(vacation));\r\n        });\r\n    }\r\n\r\n    public disconnect(): void {\r\n        this.socket.disconnect();\r\n    }\r\n}\r\n\r\nconst socketIoService = new SocketIoService();\r\nexport default socketIoService;"]},"metadata":{},"sourceType":"module"}