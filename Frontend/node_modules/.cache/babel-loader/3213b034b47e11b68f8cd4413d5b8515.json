{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\web development\\\\Lessons + Homework\\\\Third Project\\\\Fullstack\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import{AuthState}from\"../../../Redux/AuthState\";import vacationsService from\"../../../Services/VacationsService\";import config from\"../../../Utils/config\";import\"./VacationCard.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VacationCard(props){var loggedUser=new AuthState();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),wishlist=_useState2[0],setWishlist=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),heart=_useState4[0],setHeart=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var isFollowing;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return vacationsService.isFollowing(props.vacation.vacationId,loggedUser.user.id);case 2:isFollowing=_context.sent;if(isFollowing){setWishlist(\"Remove From Wishlist\");setHeart(\"fa fa-heart\");}else{setWishlist(\"Add To Wishlist\");setHeart(\"fa fa-heart-o\");}case 4:case\"end\":return _context.stop();}}},_callee);})),[props.vacation.followersCount]);var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return vacationsService.addFollower(props.vacation.vacationId,loggedUser.user.id);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"VacationCard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ProductDetails\",children:[/*#__PURE__*/_jsx(\"h1\",{children:props.vacation.destination}),/*#__PURE__*/_jsx(\"p\",{className:\"Information\",children:props.vacation.description}),/*#__PURE__*/_jsx(\"div\",{className:\"Control\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"Btn\",onClick:handleClick,children:[/*#__PURE__*/_jsxs(\"span\",{className:\"Price\",children:[\"$\",props.vacation.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"Heart\",children:[props.vacation.followersCount+\" \",/*#__PURE__*/_jsx(\"i\",{className:heart,\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"Follow\",children:wishlist})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProductImage\",children:[/*#__PURE__*/_jsx(\"img\",{src:config.urls.vacationsImages+props.vacation.imageName,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Information\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Starting Date : \",new Date(props.vacation.startingDate).toLocaleString(),\" \"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Ending Date :  \",new Date(props.vacation.endingDate).toLocaleString(),\" \"]})]})]})]})]})});}export default VacationCard;{/* <div className=\"VacationCard\">\n        <div>\n            <h3></h3>\n            <br />\n            Price: ${props.vacation.price}\n            <br />\n            Starting Date: {new Date(props.vacation.startingDate).toLocaleString()}\n            <br />\n            Ending Date: {new Date(props.vacation.endingDate).toLocaleString()}\n            <br />\n        </div>\n        <div>\n            <img src={config.urls.vacationsImages + props.vacation.imageName} />\n        </div>\n    </div> */}","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Components/HomeArea/VacationCard/VacationCard.tsx"],"names":["useEffect","useState","AuthState","vacationsService","config","VacationCard","props","loggedUser","wishlist","setWishlist","heart","setHeart","isFollowing","vacation","vacationId","user","id","followersCount","handleClick","addFollower","destination","description","price","urls","vacationsImages","imageName","Date","startingDate","toLocaleString","endingDate"],"mappings":"6hBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,OAASC,SAAT,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAO,oBAAP,C,wFAMA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6D,CAEzD,GAAMC,CAAAA,UAAU,CAAG,GAAIL,CAAAA,SAAJ,EAAnB,CACA,cAAgCD,QAAQ,CAAS,EAAT,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA0BR,QAAQ,CAAS,EAAT,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEAX,SAAS,sEAAE,yKAGmBG,CAAAA,gBAAgB,CAACS,WAAjB,CAA6BN,KAAK,CAACO,QAAN,CAAeC,UAA5C,CAAuDP,UAAU,CAACQ,IAAX,CAAgBC,EAAvE,CAHnB,QAGDJ,WAHC,eAIP,GAAGA,WAAH,CAAgB,CACZH,WAAW,CAAC,sBAAD,CAAX,CACAE,QAAQ,CAAC,aAAD,CAAR,CACH,CAHD,IAIK,CACDF,WAAW,CAAC,iBAAD,CAAX,CACAE,QAAQ,CAAC,eAAD,CAAR,CACH,CAXM,sDAAF,GAYA,CAACL,KAAK,CAACO,QAAN,CAAeI,cAAhB,CAZA,CAAT,CAcA,GAAMC,CAAAA,WAAW,2FAAG,+JACVf,CAAAA,gBAAgB,CAACgB,WAAjB,CAA6Bb,KAAK,CAACO,QAAN,CAAeC,UAA5C,CAAuDP,UAAU,CAACQ,IAAX,CAAgBC,EAAvE,CADU,yDAAH,kBAAXE,CAAAA,WAAW,2CAAjB,CAIA,mBACA,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,gBAAf,wBAEI,oBAAKZ,KAAK,CAACO,QAAN,CAAeO,WAApB,EAFJ,cAGI,UAAG,SAAS,CAAC,aAAb,UAA4Bd,KAAK,CAACO,QAAN,CAAeQ,WAA3C,EAHJ,cAKI,YAAK,SAAS,CAAC,SAAf,uBACI,gBAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEH,WAAjC,wBACI,cAAM,SAAS,CAAC,OAAhB,eAA0BZ,KAAK,CAACO,QAAN,CAAeS,KAAzC,GADJ,cAEI,cAAM,SAAS,CAAC,OAAhB,WAAyBhB,KAAK,CAACO,QAAN,CAAeI,cAAf,CAAgC,GAAzD,cAA6D,UAAG,SAAS,CAAEP,KAAd,CAAqB,cAAY,MAAjC,EAA7D,GAFJ,cAGI,aAAM,SAAS,CAAC,QAAhB,UAA0BF,QAA1B,EAHJ,GADJ,EALJ,GADJ,cAeI,aAAK,SAAS,CAAC,cAAf,wBAEA,YAAK,GAAG,CAAEJ,MAAM,CAACmB,IAAP,CAAYC,eAAZ,CAA8BlB,KAAK,CAACO,QAAN,CAAeY,SAAvD,CAAkE,GAAG,CAAC,EAAtE,EAFA,cAIA,aAAK,SAAS,CAAC,MAAf,wBACI,mCADJ,cAEI,mCACI,yCAAqB,GAAIC,CAAAA,IAAJ,CAASpB,KAAK,CAACO,QAAN,CAAec,YAAxB,EAAsCC,cAAtC,EAArB,OADJ,cAEI,wCAAoB,GAAIF,CAAAA,IAAJ,CAASpB,KAAK,CAACO,QAAN,CAAegB,UAAxB,EAAoCD,cAApC,EAApB,OAFJ,GAFJ,GAJA,GAfJ,GADJ,EADA,CAgCH,CAED,cAAevB,CAAAA,YAAf,CAuBA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAc","sourcesContent":["import { useEffect, useState } from \"react\";\nimport VacationModel from \"../../../Models/VacationModel\";\nimport { AuthState } from \"../../../Redux/AuthState\";\nimport vacationsService from \"../../../Services/VacationsService\";\nimport config from \"../../../Utils/config\";\nimport \"./VacationCard.css\";\n\ninterface VacationCardProps {\n\tvacation: VacationModel;\n}\n\nfunction VacationCard(props: VacationCardProps): JSX.Element {\n\n    const loggedUser = new AuthState();\n    const [wishlist, setWishlist] = useState<string>(\"\");\n    const [heart, setHeart] = useState<string>(\"\");\n\n    useEffect((async () => {\n        \n        \n        const isFollowing = await vacationsService.isFollowing(props.vacation.vacationId,loggedUser.user.id);\n        if(isFollowing) {\n            setWishlist(\"Remove From Wishlist\");\n            setHeart(\"fa fa-heart\");\n        }\n        else {\n            setWishlist(\"Add To Wishlist\");\n            setHeart(\"fa fa-heart-o\");\n        }\n    })as any,[props.vacation.followersCount]);\n    \n    const handleClick = async () => {\n        await vacationsService.addFollower(props.vacation.vacationId,loggedUser.user.id);  \n    };\n    \n    return (\n    <div className=\"VacationCard\">\n        <div className=\"Container\">  \n            <div className=\"ProductDetails\">\n\n                <h1>{props.vacation.destination}</h1>                \n                <p className=\"Information\">{props.vacation.description}</p>        \n                    \n                <div className=\"Control\"> \n                    <button className=\"Btn\" onClick={handleClick}>\n                        <span className=\"Price\">${props.vacation.price}</span>\n                        <span className=\"Heart\">{props.vacation.followersCount + \" \"}<i className={heart} aria-hidden=\"true\"></i></span>\n                        <span className=\"Follow\">{wishlist}</span>\n                    </button>         \n                </div>       \n            </div>\n            \n            <div className=\"ProductImage\">\n            \n            <img src={config.urls.vacationsImages + props.vacation.imageName} alt=\"\" />\n            \n            <div className=\"Info\">\n                <h2>Information</h2>\n                <ul>\n                    <li>Starting Date : {new Date(props.vacation.startingDate).toLocaleString()} </li>\n                    <li>Ending Date :  {new Date(props.vacation.endingDate).toLocaleString()} </li>                 \n                </ul>\n            </div>\n            </div>\n        </div>\n    </div>\n     );\n}\n\nexport default VacationCard;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{/* <div className=\"VacationCard\">\n        <div>\n            <h3></h3>\n            <br />\n            Price: ${props.vacation.price}\n            <br />\n            Starting Date: {new Date(props.vacation.startingDate).toLocaleString()}\n            <br />\n            Ending Date: {new Date(props.vacation.endingDate).toLocaleString()}\n            <br />\n        </div>\n        <div>\n            <img src={config.urls.vacationsImages + props.vacation.imageName} />\n        </div>\n    </div> */}"]},"metadata":{},"sourceType":"module"}