{"ast":null,"code":"import { vacationsStore } from './../Redux/Store';\nimport { io } from \"socket.io-client\";\nimport config from \"../Utils/config\";\nimport { updateVacationAction } from '../Redux/VacationsState';\n\nclass SocketIoService {\n  constructor() {\n    this.socket = void 0;\n  }\n\n  connect() {\n    this.socket = io(config.urls.socketServer);\n    this.socket.on(\"user-following\", vacation => {\n      vacationsStore.dispatch(updateVacationAction(vacation));\n    });\n    this.socket.on(\"user-not-following\", vacation => {\n      vacationsStore.dispatch(updateVacationAction(vacation));\n    });\n  }\n\n  disconnect() {\n    this.socket.disconnect();\n  }\n\n}\n\nconst socketIoService = new SocketIoService();\nexport default socketIoService;","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Services/SocketIOService.ts"],"names":["vacationsStore","io","config","updateVacationAction","SocketIoService","socket","connect","urls","socketServer","on","vacation","dispatch","disconnect","socketIoService"],"mappings":"AAAA,SAASA,cAAT,QAA+B,kBAA/B;AACA,SAASC,EAAT,QAA2B,kBAA3B;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,oBAAT,QAAqC,yBAArC;;AAEA,MAAMC,eAAN,CAAsB;AAAA;AAAA,SACVC,MADU;AAAA;;AAGXC,EAAAA,OAAO,GAAS;AACnB,SAAKD,MAAL,GAAcJ,EAAE,CAACC,MAAM,CAACK,IAAP,CAAYC,YAAb,CAAhB;AAEA,SAAKH,MAAL,CAAYI,EAAZ,CAAe,gBAAf,EAAkCC,QAAD,IAA6B;AAC1DV,MAAAA,cAAc,CAACW,QAAf,CAAwBR,oBAAoB,CAACO,QAAD,CAA5C;AACH,KAFD;AAIA,SAAKL,MAAL,CAAYI,EAAZ,CAAe,oBAAf,EAAsCC,QAAD,IAA6B;AAC9DV,MAAAA,cAAc,CAACW,QAAf,CAAwBR,oBAAoB,CAACO,QAAD,CAA5C;AACH,KAFD;AAGH;;AAEME,EAAAA,UAAU,GAAS;AACtB,SAAKP,MAAL,CAAYO,UAAZ;AACH;;AAjBiB;;AAoBtB,MAAMC,eAAe,GAAG,IAAIT,eAAJ,EAAxB;AACA,eAAeS,eAAf","sourcesContent":["import { vacationsStore } from './../Redux/Store';\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport VacationModel from \"../Models/VacationModel\";\r\nimport config from \"../Utils/config\";\r\nimport { updateVacationAction } from '../Redux/VacationsState';\r\n\r\nclass SocketIoService {\r\n    private socket: Socket;\r\n    \r\n    public connect(): void {\r\n        this.socket = io(config.urls.socketServer);\r\n\r\n        this.socket.on(\"user-following\", (vacation: VacationModel) => {\r\n            vacationsStore.dispatch(updateVacationAction(vacation));\r\n        });\r\n\r\n        this.socket.on(\"user-not-following\", (vacation: VacationModel) => {\r\n            vacationsStore.dispatch(updateVacationAction(vacation));\r\n        });\r\n    }\r\n\r\n    public disconnect(): void {\r\n        this.socket.disconnect();\r\n    }\r\n}\r\n\r\nconst socketIoService = new SocketIoService();\r\nexport default socketIoService;"]},"metadata":{},"sourceType":"module"}