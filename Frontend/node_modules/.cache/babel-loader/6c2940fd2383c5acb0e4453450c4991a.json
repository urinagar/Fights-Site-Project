{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\web development\\\\Lessons + Homework\\\\Third Project\\\\Fullstack\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{authStore}from'./../Redux/Store';import axios from\"axios\";import config from\"../Utils/config\";import{loginAction,logoutAction,registerAction}from'../Redux/AuthState';var AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){var response,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(config.urls.register,user);case 2:response=_context.sent;token=response.data;authStore.dispatch(registerAction(token));case 5:case\"end\":return _context.stop();}}},_callee);}));function register(_x){return _register.apply(this,arguments);}return register;}()},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(credentials){var response,token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(config.urls.login,credentials);case 2:response=_context2.sent;token=response.data;authStore.dispatch(loginAction(token));case 5:case\"end\":return _context2.stop();}}},_callee2);}));function login(_x2){return _login.apply(this,arguments);}return login;}()},{key:\"logout\",value:function(){var _logout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:authStore.dispatch(logoutAction());case 1:case\"end\":return _context3.stop();}}},_callee3);}));function logout(){return _logout.apply(this,arguments);}return logout;}()}]);return AuthService;}();var authService=new AuthService();export default authService;","map":{"version":3,"sources":["C:/Users/user/Desktop/web development/Lessons + Homework/Third Project/Fullstack/Frontend/src/Services/AuthService.ts"],"names":["authStore","axios","config","loginAction","logoutAction","registerAction","AuthService","user","post","urls","register","response","token","data","dispatch","credentials","login","authService"],"mappings":"0sBAAA,OAASA,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,cAApC,KAA0D,oBAA1D,C,GAGMC,CAAAA,W,oNACF,iBAAsBC,IAAtB,2JAC2BN,CAAAA,KAAK,CAACO,IAAN,CAAmBN,MAAM,CAACO,IAAP,CAAYC,QAA/B,CAAyCH,IAAzC,CAD3B,QACUI,QADV,eAEUC,KAFV,CAEkBD,QAAQ,CAACE,IAF3B,CAGIb,SAAS,CAACc,QAAV,CAAmBT,cAAc,CAACO,KAAD,CAAjC,EAHJ,sD,uLAMA,kBAAmBG,WAAnB,gKAC2Bd,CAAAA,KAAK,CAACO,IAAN,CAAmBN,MAAM,CAACO,IAAP,CAAYO,KAA/B,CAAsCD,WAAtC,CAD3B,QACUJ,QADV,gBAEUC,KAFV,CAEkBD,QAAQ,CAACE,IAF3B,CAGIb,SAAS,CAACc,QAAV,CAAmBX,WAAW,CAACS,KAAD,CAA9B,EAHJ,wD,iLAMA,wIACIZ,SAAS,CAACc,QAAV,CAAmBV,YAAY,EAA/B,EADJ,wD,uGAKJ,GAAMa,CAAAA,WAAW,CAAG,GAAIX,CAAAA,WAAJ,EAApB,CACA,cAAeW,CAAAA,WAAf","sourcesContent":["import { authStore } from './../Redux/Store';\r\nimport axios from \"axios\";\r\nimport UserModel from \"../Models/UserModel\";\r\nimport config from \"../Utils/config\";\r\nimport { loginAction, logoutAction, registerAction } from '../Redux/AuthState';\r\nimport CredentialsModel from '../Models/CredentialsModel';\r\n\r\nclass AuthService {\r\n    public async register(user: UserModel): Promise<void> {\r\n        const response = await axios.post<string>(config.urls.register, user);\r\n        const token = response.data;\r\n        authStore.dispatch(registerAction(token));\r\n    }\r\n\r\n    public async login(credentials: CredentialsModel): Promise<void> {\r\n        const response = await axios.post<string>(config.urls.login, credentials);\r\n        const token = response.data;\r\n        authStore.dispatch(loginAction(token));\r\n    }\r\n\r\n    public async logout(): Promise<void> {\r\n        authStore.dispatch(logoutAction());\r\n    }  \r\n}\r\n\r\nconst authService = new AuthService();\r\nexport default authService; \r\n"]},"metadata":{},"sourceType":"module"}